<!DOCTYPE html>

<html lang="en">
	<head>
		<!-- Bootstrap -->
		<link type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap@next/dist/css/bootstrap.min.css"/>
		<link type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.css"/>
		<!--CSS stylings -->
		<link type="text/css" rel="stylesheet" href="./style.css">
	</head>
	<meta>
		<meta charset="UTF-8">
		<title>BTC Manager</title>
	</meta>
	<body>
		
		<div id="btcjs">
			<!--Content Goes Here -->
			<div class="card-group" style="column-count: 4;">
				<div class="card" id="title-card">
					<h2 class="card-header">Balance for {{user}}</h2>
					<p>{{balance}}</p>
				</div>
				<div class="card">
					<h2 class="card-header">Total Bitcoin Recieved</h2>
					<p>{{total_recieved}}</p>
			
				</div>
				<div class="card">
					<h2 class="card-header">Market Cap</h2>
					<p>{{market_cap}}</p>
				</div>
				<div class="card">
					<h2 class="card-header">BTC Sent: 24 hours</h2>
					<p>{{btc_sent_24}}</p>
				</div>
			</div>
			<div class="card-column"> <!-- https://news.google.com/news/rss/headlines/section/q/bitcoin/bitcoin?hl=en&gl=US&ned=us -->
					<div v-for="(value, key, index) in news_posts.title">
						{{news_posts.title[key]}}
						{{key}}
					</div>

			</div>
			
		</div>

			<div class="card-group" id="first-row">
				<div class="card">
					<h2 class="card-header">Bitcoin Interest Over Time</h2>
					<!-- Bitcoin Interest over time -->
					<script type="text/javascript" src="https://ssl.gstatic.com/trends_nrtr/1225_RC05/embed_loader.js"></script>
					<script type="text/javascript">
					  trends.embed.renderExploreWidget("TIMESERIES", {"comparisonItem":[{"keyword":"btc","geo":"","time":"today 12-m"}],"category":0,"property":""}, {"exploreQuery":"q=btc&date=today 12-m","guestPath":"https://trends.google.com:443/trends/embed/"});
					</script>
				</div>
				<div class="card">
					<h2 class="card-header">BTC Price Graph</h2>
					<img class="card-img-top" src="https://finance.google.com/finance/getchart?q=BTCUSD&amp;x=CURRENCY&amp;p=1M&amp;i=86400&amp;ei=IsYhWpG4McSPjAG5hbEY">
				</div>
				<div class="card">
					<h2 class="card-header">Buy BTC with Credit Card Searches: 30 Days</h2>
						<script type="text/javascript" src="https://ssl.gstatic.com/trends_nrtr/1225_RC05/embed_loader.js"></script> <script type="text/javascript"> trends.embed.renderExploreWidget("TIMESERIES", {"comparisonItem":[{"keyword":"buy btc with credit card","geo":"","time":"today 1-m"}],"category":0,"property":""}, {"exploreQuery":"date=today 1-m&q=buy%20btc%20with%20credit%20card","guestPath":"https://trends.google.com:443/trends/embed/"}); </script> 
				</div>
				<div class="card">
					<h2 class="card-header">Use of the word Hodl: 30 days</h2>
						<script type="text/javascript" src="https://ssl.gstatic.com/trends_nrtr/1225_RC05/embed_loader.js"></script> <script type="text/javascript"> trends.embed.renderExploreWidget("TIMESERIES", {"comparisonItem":[{"keyword":"hodl","geo":"","time":"today 1-m"}],"category":0,"property":""}, {"exploreQuery":"date=today 1-m&q=hodl","guestPath":"https://trends.google.com:443/trends/embed/"}); </script> 
				</div>
			</div>
			<div class="card-group" id="second-row">
				<div class="card">
					<h2 class="card-header">Buy Bitcoin VS Sell Bitcoin</h2>
					<script type="text/javascript" src="https://ssl.gstatic.com/trends_nrtr/1225_RC05/embed_loader.js"></script> <script type="text/javascript"> trends.embed.renderExploreWidget("TIMESERIES", {"comparisonItem":[{"keyword":"buy bitcoin","geo":"","time":"today 1-m"},{"keyword":"sell bitcoin","geo":"","time":"today 1-m"}],"category":0,"property":""}, {"exploreQuery":"date=today 1-m,today 1-m&q=buy%20bitcoin,sell%20bitcoin","guestPath":"https://trends.google.com:443/trends/embed/"}); </script> 
				</div>
			</div>
				

			

	
		<script src="//cdnjs.cloudflare.com/ajax/libs/vue/2.1.6/vue.min.js"></script>
		<script src="//unpkg.com/babel-polyfill@latest/dist/polyfill.min.js"></script>
		<script src="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.js"></script>
		<!-- vue-resource -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.17.1/axios.min.js"></script>
		<script>

			new Vue({
				el: "#btcjs",
				data() {
					return {
						user: "admin",
						btcaddr: "xpub6C7siffRZv7C73jdDnrTnFhUt9qfeadXoHfTBGpMDhoCayVMFcfZL92ZW78KhVAMHwjQ2Evj12fx8QpEW7qk4Fo7wzMxCbaLUNYxzemo5GL",
						balance: "",
						total_recieved: "",
						market_cap: "",
						btc_sent_24: "",
						news_posts: {
							title: [],
							image: [],
							link: [],
							description: [],
						},
						
					}
				},
				components: {
					'Vue':Vue,
				},
				mounted: function() {this.getBalance(), this.getRecieved(), this.getMarketCap(), this.getSent24(), this.getNews()},
				methods:{
					getBalance: function() {
						axios.get("https://blockchain.info/q/addressbalance/" + this.btcaddr + "?cors=true").then(response => {
							var balance = parseInt(response.data) * .00000001;	
							this.balance= balance;
						});
			
					},
					getRecieved: function() {
						axios.get("https://blockchain.info/q/getreceivedbyaddress/" + this.btcaddr + "?cors=true").then(response => {
							var total_recieved = parseInt(response.data) * .00000001;	
							this.total_recieved = total_recieved;
						})
					},
					getMarketCap: function() {
						axios.get("https://blockchain.info/q/marketcap?cors=true").then(response=> {
							this.market_cap = response.data;
						})
					},
					getSent24: function() {
						axios.get("https://blockchain.info/q/24hrbtcsent?cors=true").then(response=> {
							this.btc_sent_24 = response.data;
						})
					},
					getNews: function() {
						this.$set(this.news_posts.title, 0, "tests!")

					}
				},
			});
		</script>
	</body>
</html>
